/* ===========================
   components.css â€” UI pieces
   =========================== */

/* Cards */
.card{
    background:var(--surface);
    border-radius:14px;
    border:1px solid var(--border-soft);
    box-shadow:var(--shadow-soft);
    padding:16px 18px;
    transition:.18s transform,.18s box-shadow;
}
.card:hover{
    transform:translateY(-2px);
    box-shadow:0 14px 30px rgba(15,23,42,0.16);
}
.card-label{
    font-size:11px;font-weight:700;
    color:var(--text-muted);
    letter-spacing:.06em;text-transform:uppercase;margin-bottom:4px;
}
.card-value{
    font-size:26px;font-weight:900;color:var(--primary-dark);line-height:1;
}
.card-trend{
    font-size:12px;margin-top:6px;
    color:var(--success);font-weight:600;
}

/* Chart boxes */
.chart-box{
    background:var(--surface);
    border-radius:14px;
    border:1px solid var(--border-soft);
    box-shadow:var(--shadow-soft);
    padding:16px 18px;
}
.chart-title{
    font-size:15px;font-weight:700;margin-bottom:12px;color:var(--primary-dark);
}
.chart-box canvas{
    width:100% !important;
    height:260px !important;
    max-height:260px;
}

/* Right side panel (Recent activity) */
.side-panel{
    background:var(--surface);
    border-radius:16px;
    border:1px solid var(--border-soft);
    box-shadow:var(--shadow-soft);
    padding:14px 16px 10px;
    display:flex;
    flex-direction:column;
    max-height:calc(100vh - 160px);
}
.side-header{
    display:flex;justify-content:space-between;align-items:center;
    margin-bottom:10px;
}
.side-title{
    font-size:14px;font-weight:700;color:var(--primary-dark);
}
.side-sub{
    font-size:11px;color:var(--text-muted);
}
.side-chip{
    font-size:10px;
    padding:3px 8px;
    border-radius:999px;
    border:1px solid rgba(56,189,248,0.6);
    color:var(--primary-dark);
    background:var(--accent-soft);
    text-transform:uppercase;
    letter-spacing:.1em;
}
.side-table-wrap{
    flex:1;overflow:auto;margin-top:6px;
}
.side-table{
    width:100%;border-collapse:collapse;font-size:12px;
}
.side-table th{
    text-align:left;padding:6px 4px;
    font-size:10px;text-transform:uppercase;
    color:var(--text-muted);
    border-bottom:1px solid var(--border-soft);
}
.side-table td{
    padding:6px 4px;
    border-bottom:1px solid rgba(148,163,184,0.15);
}
.side-table tr:hover{background:rgba(56,189,248,0.05)}

/* Main tables */
.table-box{
    background:var(--surface);
    border-radius:16px;
    border:1px solid var(--border-soft);
    box-shadow:var(--shadow-soft);
    overflow:hidden;
}
.table-head{
    padding:16px 20px;
    border-bottom:1px solid var(--border-soft);
    background:var(--accent-soft);
    display:flex;justify-content:space-between;align-items:center;
}
.table-title{
    font-size:16px;font-weight:700;color:var(--primary-dark);
}
table{width:100%;border-collapse:collapse}
th{
    padding:10px 20px;
    text-align:left;
    font-size:11px;font-weight:700;
    color:var(--text-muted);
    text-transform:uppercase;
    background:var(--accent-soft);
}
td{
    padding:12px 20px;
    border-top:1px solid rgba(148,163,184,0.2);
    font-size:13px;
}
tr:hover{background:rgba(56,189,248,0.04)}

/* Badges */
.badge{
    display:inline-flex;align-items:center;gap:4px;
    padding:4px 10px;border-radius:12px;
    font-size:11px;font-weight:700;
}
.badge-success{background:#D1FAE5;color:#065F46}
.badge-danger{background:#FEE2E2;color:#991B1B}
.badge-warning{background:#FEF3C7;color:#92400E}

/* Upload */
.upload-zone{
    background:var(--surface);
    border:3px dashed rgba(14,116,144,0.35);
    border-radius:16px;
    padding:40px;text-align:center;cursor:pointer;
    transition:.28s;
}
.upload-zone:hover{
    border-color:var(--accent);
    background:rgba(224,242,254,0.5);
    transform:scale(1.01);
}
.upload-zone.dragover{
    border-color:var(--primary);
    background:rgba(224,242,254,0.8);
    border-style:solid;
}
.upload-icon{
    font-size:48px;
    background:linear-gradient(135deg,var(--primary),var(--accent));
    -webkit-background-clip:text;-webkit-text-fill-color:transparent;
    margin-bottom:12px;
}

/* Upload file list */
.upload-files{
    margin-top:16px;
    font-size:12px;
    color:var(--text-muted);
}
.upload-files ul{
    margin-top:6px;
    list-style:none;
    max-height:200px;
    overflow:auto;
    padding:0;
}
.upload-files li{
    padding:8px 10px;
    border-bottom:1px dashed rgba(148,163,184,0.3);
    display:flex;
    align-items:center;
    justify-content:space-between;
    transition:.2s;
}
.upload-files li:hover{
    background:rgba(224,242,254,0.3);
}
.upload-files li i{
    margin-right:8px;
    color:var(--primary);
}
.btn-success{
    background:linear-gradient(135deg,#10b981,#059669);
    color:white;
    box-shadow:0 6px 18px rgba(16,185,129,0.4);
}
.btn-success:hover{
    transform:translateY(-1px);
    box-shadow:0 10px 26px rgba(16,185,129,0.5);
}

/* Forms */
.form-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}
.form-label{display:block;margin-bottom:6px;font-size:13px;font-weight:600;color:var(--primary-dark)}
.form-input{
    width:100%;padding:10px 12px;
    border:2px solid rgba(148,163,184,0.4);
    border-radius:8px;
    font-size:13px;background:white;
    transition:.18s;
}
.form-input:focus{
    outline:none;
    border-color:var(--primary);
    box-shadow:0 0 0 3px rgba(56,189,248,0.25);
}

/* Buttons */
.btn{
    padding:10px 20px;border:none;border-radius:8px;
    font-weight:600;cursor:pointer;font-family:inherit;
    font-size:13px;display:inline-flex;align-items:center;gap:8px;
    transition:.18s transform,.18s box-shadow,.18s background;
}
.btn-primary{
    background:linear-gradient(135deg,var(--primary),var(--accent));
    color:white;
    box-shadow:0 6px 18px rgba(14,116,144,0.4);
}
.btn-primary:hover{
    transform:translateY(-1px);
    box-shadow:0 10px 26px rgba(14,116,144,0.5);
}
.btn-secondary{
    background:var(--surface-soft);
    color:var(--primary-dark);
    border:1px solid rgba(148,163,184,0.6);
}
.btn-secondary:hover{
    background:var(--accent-soft);
}
.btn-sm{padding:6px 12px;font-size:12px}

/* Toast */
.toast{
    position:fixed;top:20px;right:20px;
    background:var(--surface);
    padding:16px 20px;
    border-radius:12px;
    box-shadow:var(--shadow-soft);
    border:1px solid var(--border-soft);
    display:none;z-index:10000;min-width:280px;
}
.toast.show{display:block;animation:slideDown .3s}
@keyframes slideDown{
    from{transform:translateY(-20px);opacity:0}
    to{transform:translateY(0);opacity:1}
}
.toast-content{font-weight:600;color:var(--primary-dark);margin-bottom:4px}
.toast-msg{font-size:13px;color:var(--text-muted)}

/* Loading overlay */
.loading{
    position:fixed;inset:0;
    background:rgba(15,23,42,0.7);
    backdrop-filter:blur(8px);
    display:none;align-items:center;justify-content:center;
    z-index:9999;
}
.loading.show{display:flex}
.spinner{
    width:48px;height:48px;
    border:4px solid rgba(148,163,184,0.4);
    border-top-color:var(--accent);
    border-radius:50%;
    animation:spin .8s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg)}}

/* Empty */
.empty{text-align:center;padding:32px 0;color:var(--text-muted)}
.empty i{font-size:40px;opacity:0.4;margin-bottom:8px;display:block}

/* ============ Invoice Detail Drawer ============ */

.drawer-backdrop{
    position:fixed;inset:0;
    background:rgba(15,23,42,0.6);
    backdrop-filter:blur(6px);
    opacity:0;pointer-events:none;
    transition:.25s;
    z-index:1300;
}
.drawer{
    position:fixed;top:0;right:-420px;
    width:380px;height:100%;
    background:var(--surface);
    border-left:1px solid var(--border-soft);
    box-shadow:-10px 0 30px rgba(15,23,42,0.35);
    padding:18px 18px 18px;
    transition:.25s;
    z-index:1400;
    display:flex;flex-direction:column;
}
.drawer-header{
    display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;
}
.drawer-title{font-size:15px;font-weight:700;color:var(--primary-dark)}
.drawer-close{
    border:none;background:transparent;color:var(--text-muted);
    cursor:pointer;font-size:16px;
}
.drawer-body{
    flex:1;overflow:auto;font-size:13px;
}
.drawer-section{
    margin-top:12px;padding-top:10px;
    border-top:1px solid rgba(148,163,184,0.3);
}
.drawer-section h4{
    font-size:12px;text-transform:uppercase;
    letter-spacing:.06em;color:var(--text-muted);margin-bottom:4px;
}
.drawer-kv{
    display:flex;justify-content:space-between;margin-bottom:4px;
}
.drawer-kv span:first-child{color:var(--text-muted);font-size:12px}
.drawer-kv span:last-child{font-weight:600}

body.drawer-open .drawer-backdrop{
    opacity:1;pointer-events:auto;
}
body.drawer-open .drawer{
    right:0;
}

/* ============ Command Palette (Ctrl/Cmd + K) ============ */

.cmdk-backdrop{
    position:fixed;inset:0;
    background:rgba(15,23,42,0.6);
    backdrop-filter:blur(8px);
    opacity:0;pointer-events:none;
    transition:.22s;
    z-index:1500;
}
.cmdk{
    position:fixed;top:60px;left:50%;
    transform:translateX(-50%) scale(.97);
    width:min(640px,90vw);
    background:var(--surface);
    border-radius:16px;
    box-shadow:0 18px 40px rgba(15,23,42,0.45);
    border:1px solid var(--border-soft);
    padding:10px 10px 8px;
    opacity:0;
    transition:.22s;
    z-index:1600;
}
.cmdk-input{
    width:100%;
    border:none;outline:none;
    font-size:13px;
    padding:8px 10px;
    border-radius:8px;
    background:var(--surface-soft);
    color:var(--text-main);
    margin-bottom:8px;
}
.cmdk-list{
    max-height:260px;
    overflow:auto;
    font-size:13px;
}
.cmdk-item{
    padding:6px 8px;border-radius:8px;
    display:flex;justify-content:space-between;align-items:center;
    cursor:pointer;
}
.cmdk-item:hover{
    background:rgba(56,189,248,0.08);
}
.cmdk-hint{
    font-size:11px;color:var(--text-muted);
    margin-top:4px;margin-left:2px;
}

body.cmdk-open .cmdk-backdrop{
    opacity:1;pointer-events:auto;
}
body.cmdk-open .cmdk{
    opacity:1;transform:translateX(-50%) scale(1);
}